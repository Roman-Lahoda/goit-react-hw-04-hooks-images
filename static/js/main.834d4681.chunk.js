(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{26:function(e,t,n){},27:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(20),o=n.n(r),i=(n(26),n(11)),s=n(4),u=(n(27),n(1)),l=function(e){var t=e.text,n=e.func;return Object(u.jsx)("button",{type:"buttton",onClick:n,className:"Button",children:t})},j=function(e){var t=e.obj,n=e.imgClick;return Object(u.jsx)("li",{className:"ImageGalleryItem",children:Object(u.jsx)("img",{src:t.webformatURL,alt:t.tags,className:"ImageGalleryItem-image",onClick:function(){n(t)}})})},b=function(e){var t=e.arrayImages,n=e.imgClick;return Object(u.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){return Object(u.jsx)(j,{obj:e,imgClick:n},e.id)}))})};function m(e){var t=e.onSubmit,n=Object(c.useState)(""),a=Object(s.a)(n,2),r=a[0],o=a[1];return Object(u.jsx)("header",{className:"Searchbar",children:Object(u.jsxs)("form",{className:"SearchForm",onSubmit:function(e){if(e.preventDefault(),""===r.trim())return alert("Please, enter search query");t(r),o("")},children:[Object(u.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(u.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(u.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:r,onChange:function(e){o(e.currentTarget.value)}})]})})}var h=n(10),f=n.n(h);f.a.defaults.baseURL="https://pixabay.com/api/";var d={fetchImage:function(e,t){return f.a.get("/?key=".concat("23036089-03f6791326ef951aa675b45d4","&q=").concat(e,"\n    &page=").concat(t+1,"&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.data.hits}))}},g=n(21),O=n.n(g);function p(e){var t=e.children,n=e.onClose;Object(c.useEffect)((function(){return window.addEventListener("keydown",a),function(){window.removeEventListener("keydown",a)}}));var a=function(e){"Escape"===e.code&&n()};return Object(u.jsx)("div",{className:"Overlay",onClick:function(e){e.currentTarget===e.target&&n()},children:Object(u.jsx)("div",{className:"Modal",children:t})})}function x(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),o=Object(s.a)(r,2),j=o[0],h=o[1],f=Object(c.useState)(0),g=Object(s.a)(f,2),x=g[0],v=g[1],y=Object(c.useState)(!1),S=Object(s.a)(y,2),w=S[0],k=S[1],N=Object(c.useState)(!1),C=Object(s.a)(N,2),I=C[0],F=C[1],E=Object(c.useState)(""),L=Object(s.a)(E,2),T=L[0],B=L[1];Object(c.useEffect)((function(){j&&G()}),[j]);var G=function(){k(!0),d.fetchImage(j,x).then((function(e){if(0===e.length)return alert("Sorry, we didn't find pictures.Try again");a((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e))})),v((function(e){return e+1}))})).then((function(){x>0&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(){alert("Something went wrong. Please try again later")})).finally((function(){k(!1)}))},R=function(){F((function(e){return!e}))},U=function(e){B(e),R()};return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(m,{onSubmit:function(e){h(e),a([]),v(0)}}),n.length>0&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(b,{arrayImages:n,onClick:U,imgClick:U}),Object(u.jsx)(l,{text:"Load more",func:G})]}),w&&Object(u.jsx)(O.a,{className:"Loader",type:"TailSpin",color:"#00BFFF",height:100,width:100}),I&&Object(u.jsx)(p,{obj:T,onClose:R,children:Object(u.jsx)("img",{src:T.largeImageURL,alt:T.tags})})]})}o.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(x,{})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.834d4681.chunk.js.map